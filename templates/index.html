{% extends "base.html" %}
{% load static %}
{% block title %}–ì–ª–∞–≤–Ω–∞—è ‚Äî –ú—É–∂—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞{% endblock %}

{% block content %}
<!-- –ì–µ—Ä–æ–π-–±–ª–æ–∫ -->
<section class="text-center mb-5">
  <img src="{% static 'images/gerb_rf.png' %}" alt="–ì–µ—Ä–± –†–§" width="90" class="mb-3">
  <h2 class="fw-bold text-primary">–ú—É–∂—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞</h2>
  <p class="lead">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –º—É–∂—á–∏–Ω</p>
</section>

<!-- –ù–æ–≤–æ—Å—Ç–∏ -->
<section class="mb-5">
  <h3 class="border-bottom pb-2 text-primary">–ù–æ–≤–æ—Å—Ç–∏</h3>
  <div class="row g-3 mt-3">
    {% for n in news_list %}
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          {% if n.image %}
            <img src="{{ n.image.url }}" class="card-img-top" alt="{{ n.title }}">
          {% endif %}
          <div class="card-body">
            <h5 class="card-title">{{ n.title }}</h5>
            <p class="card-text">{{ n.content|truncatechars:150 }}</p>
            <a href="{% url 'info:news_detail' n.id %}" class="btn btn-primary btn-sm">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
          </div>
        </div>
      </div>
    {% empty %}
      <p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
    {% endfor %}
  </div>
  <div class="mt-3 text-end">
    <a href="{% url 'info:news_list' %}" class="btn btn-outline-primary btn-sm">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Üí</a>
  </div>
</section>

<!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è -->
<section class="mb-5">
  <h3 class="border-bottom pb-2 text-primary">–û–±—ä—è–≤–ª–µ–Ω–∏—è</h3>
  <div class="row g-3 mt-3">
    {% for a in announcements %}
      <div class="col-md-4">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5 class="card-title">{{ a.title }}</h5>
            <p class="card-text">{{ a.description|truncatechars:150 }}</p>
          </div>
        </div>
      </div>
    {% empty %}
      <p>–û–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
    {% endfor %}
  </div>
</section>

<!-- –î–æ–∫—É–º–µ–Ω—Ç—ã -->
<section class="mb-5">
  <h3 class="border-bottom pb-2 text-primary">–î–æ–∫—É–º–µ–Ω—Ç—ã</h3>
  <ul class="list-group list-group-flush mt-3">
    {% for d in documents %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ d.title }}
        <a href="{{ d.file.url }}" download class="btn btn-outline-secondary btn-sm">üìÑ –°–∫–∞—á–∞—Ç—å</a>
      </li>
    {% empty %}
      <p>–î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.</p>
    {% endfor %}
  </ul>
  <div class="mt-3 text-end">
    <a href="{% url 'info:documents' %}" class="btn btn-outline-primary btn-sm">–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã ‚Üí</a>
  </div>
</section>

<!-- –ü–æ–≥–æ–¥–∞ –∏ –º–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ -->
<section class="mb-5">
  <h3 class="border-bottom pb-2 text-primary">–ü–æ–≥–æ–¥–∞ –∏ –º–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>

  <form method="get" class="d-flex mb-3">
    <input type="text" name="city" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" class="form-control me-2" value="{{ city }}">
    <button type="submit" class="btn btn-primary">–ü–æ–∫–∞–∑–∞—Ç—å</button>
  </form>

  <div class="alert alert-info">{{ weather }}</div>

  {% if rss_news %}
    <ul class="list-unstyled">
      {% for item in rss_news %}
        <li class="mb-1">
          <a href="{{ item.link }}" target="_blank">{{ item.title }}</a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p><em>–ú–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.</em></p>
  {% endif %}
</section>
{% endblock %}
